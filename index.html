<!DOCTYPE html>
<html>
  <head></head>
  <body>



<br><br>
<button id="show_pdf" onclick="show_pdf()">show_pdf</button>
<br><br>



	  
<script>

// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe
var iframeElement = document.createElement('iframe');
iframeElement.setAttribute("width", 500);
iframeElement.setAttribute("height", 1000);

const desired_filename = "document.pdf";
const repoOwner = 'CodeSolutions2';
const repoName = 'pdf_to_text_webapp';

// ----------------------------------------------------

async function show_pdf() {
  
  await GET_text_from_file_wo_auth_GitHub_RESTAPI()
    .then(async function(file_objects) {
	    console.log('file_objects: ', file_objects);
	    // iframeElement.src = file_objects.at(0).src; 
	    // document.body.appendChild(iframeElement);
    })
  
}

// ----------------------------------------------------
	
async function GET_text_from_file_wo_auth_GitHub_RESTAPI() {
	
	var url = `https://api.github.com/repos/${repoOwner}/${repoName}/contents`;
	var file_objects = [];
	
	return await fetch(url)
		.then(res => res.json())
		.then(data => { 
			data.forEach(async function(file) {
				if (file.type === 'file' && file.name.match(/.(pdf)$/i)) {
					file_objects.push(file);
				}
			});
			console.log('file_objects: ', file_objects);
			return file_objects;
		})
		.catch(error => { console.log(error); });

	
}

// ----------------------------------------------------

  
</script>

  </body>
</html>
